(()=>{"use strict";const t=lpGlobalSettings.rest+"lp/v1/admin/tools/admin-notices";lpGlobalSettings.rest,lpGlobalSettings.rest,lpGlobalSettings.rest;let e,n=null,s=null;const l=window.location.search,o=new URLSearchParams(l).get("tab"),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!lpGlobalSettings.is_admin)return;const l=o?`?tab=${o}`:`?${e}`;fetch(t+l,{method:"GET"}).then((t=>t.json())).then((t=>{const{status:e,message:l,data:o}=t;"success"===e?(s=o.content,0===s.length&&n&&(n.style.display="none")):s=l})).catch((t=>{console.log(t)}))};i(),document.addEventListener("DOMContentLoaded",(()=>{n=document.querySelector(".lp-admin-notices"),e=document.querySelector(".btn-lp-notice-dismiss");const t=setInterval((()=>{null!==s&&(s.length>0&&(n.innerHTML=s,n.style.display="block"),clearInterval(t))}),1)})),document.addEventListener("click",(t=>{const e=t.target;if(e.classList.contains("btn-lp-notice-dismiss")&&(t.preventDefault(),confirm("Are you sure you want to dismiss this notice?"))){const t=e.closest(".lp-admin-notice");i(`dismiss=${e.getAttribute("data-dismiss")}`),t.remove(),0===n.querySelectorAll(".lp-admin-notice").length&&(n.style.display="none")}}))})();